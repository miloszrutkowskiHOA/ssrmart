<div
  class="rounded-lg border border-gray-200 p-4 shadow-[--mat-sys-level2] flex-1 self-start sticky top-0"
>
  <ssrmart-product-search-filters
    [(bestsellers)]="isBestSeller"
    [(priceRange)]="priceRange"
  />
</div>

<div class="flex-[4] flex flex-col gap-4">
  <div class="flex gap-4 justify-end items-center">
    <ssrmart-product-search-term class="w-1/3" [(term)]="term" />
    <ssrmart-product-search-sorting [(sorting)]="sort" />
  </div>

  @if (productSearchResource.isLoading()) {
  <div class="flex-1 flex justify-center items-center">
    <mat-progress-spinner
      mode="indeterminate"
      diameter="50"
      color="primary"
    ></mat-progress-spinner>
  </div>
  } @else {
  <div
    class="grid grid-cols-3 gap-12 justify-items-center items-stretch mx-auto"
  >
    @for (product of productSearchResource.value(); track product.id) {
    <a [routerLink]="['/products', product.id]">
      <ssrmart-product-card [product]="product" class="h-full" />
    </a>
    } @empty {
    <div class="col-span-3 text-center my-12">No products found</div>
    }
  </div>

  }
</div>
