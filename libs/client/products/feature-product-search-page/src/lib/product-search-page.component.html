<div
  class="rounded-lg border border-gray-200 p-4 shadow-sm flex-auto sticky top-0 self-start flex flex-col gap-4"
>
  <ssrmart-product-search-categories class="" />
  <ssrmart-product-search-bestsellers-control
    [(bestsellers)]="isBestSeller"
    class=""
  />
  <ssrmart-product-search-price-range [(priceRange)]="priceRange" class="" />
  <ssrmart-product-search-term [(term)]="term" class="" />
  <ssrmart-product-search-sorting [(sorting)]="sort" class="" />
</div>

<div class="flex-auto flex flex-col gap-4">
  @if (productSearchResource.isLoading()) {
  <div class="flex-1 flex justify-center items-center">
    <mat-progress-spinner
      mode="indeterminate"
      diameter="50"
      color="primary"
    ></mat-progress-spinner>
  </div>
  } @else {
  <div
    class="grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-12 justify-items-center items-stretch mx-auto"
  >
    @for (product of productSearchResource.value(); track product.id) {
    <a [routerLink]="['/products', product.id]">
      <ssrmart-product-card
        [product]="product"
        [imageLoadPriority]="$index < 6"
        class="h-full"
      />
    </a>
    } @empty {
    <div class="col-span-3 text-center my-12">No products found</div>
    }
  </div>

  }
</div>
